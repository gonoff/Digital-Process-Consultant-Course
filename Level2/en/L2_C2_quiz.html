<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Low-Code Workflow Tools - Quiz</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .quiz-container {
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        .question {
            margin: 25px 0;
            padding: 20px;
            border-left: 4px solid #3498db;
            background-color: #f8f9fa;
        }
        .question h3 {
            color: #2c3e50;
            margin-top: 0;
        }
        .options {
            list-style: none;
            padding: 0;
        }
        .options li {
            margin: 10px 0;
            padding: 10px;
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .options li:hover {
            border-color: #3498db;
            background-color: #f0f8ff;
        }
        .options li.selected {
            border-color: #3498db;
            background-color: #e3f2fd;
        }
        .options li.correct {
            border-color: #27ae60;
            background-color: #d4edda;
        }
        .options li.incorrect {
            border-color: #e74c3c;
            background-color: #f8d7da;
        }
        input[type="radio"] {
            margin-right: 10px;
        }
        .drag-drop {
            display: flex;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        .drag-items {
            flex: 1;
            min-width: 250px;
        }
        .drop-zones {
            flex: 2;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        .drop-zone {
            min-height: 80px;
            border: 2px dashed #ccc;
            border-radius: 5px;
            padding: 10px;
            background-color: #f8f9fa;
        }
        .drag-item {
            background: #3498db;
            color: white;
            padding: 8px 12px;
            margin: 5px 0;
            border-radius: 5px;
            cursor: move;
            user-select: none;
            font-size: 14px;
        }
        .drop-zone.drag-over {
            border-color: #3498db;
            background-color: #e3f2fd;
        }
        .submit-btn {
            background-color: #3498db;
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            display: block;
            margin: 30px auto;
            transition: background-color 0.3s ease;
        }
        .submit-btn:hover {
            background-color: #2980b9;
        }
        .result {
            margin: 20px 0;
            padding: 15px;
            border-radius: 5px;
            text-align: center;
            font-weight: bold;
        }
        .pass {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .fail {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .explanation {
            margin-top: 10px;
            padding: 10px;
            background-color: #e9ecef;
            border-radius: 5px;
            font-size: 14px;
            display: none;
        }
        .show-explanation {
            display: block;
        }
        .short-answer {
            width: 100%;
            padding: 10px;
            border: 2px solid #e9ecef;
            border-radius: 5px;
            font-size: 14px;
        }
        .navigation {
            text-align: center;
            margin: 30px 0;
            padding-top: 20px;
            border-top: 1px solid #ddd;
        }
        .navigation a {
            color: #3498db;
            text-decoration: none;
            margin: 0 15px;
            font-weight: 500;
        }
        .navigation a:hover {
            text-decoration: underline;
        }
        .code-block {
            background-color: #f4f4f4;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 10px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <h1>Level 2.2: Low-Code Workflow Tools Quiz</h1>
        
        <div class="question">
            <h3>Question 1: Platform Pricing Analysis (2024)</h3>
            <p>A workflow processes 800 records monthly with 5 steps each. Calculate the monthly cost for each platform:</p>
            <div class="code-block">
                Zapier Professional: $19.99/month for 2,000 tasks<br>
                Make.com Core: $9/month for 10,000 operations<br>
                n8n Self-hosted: €0 execution cost + $50 server
            </div>
            <p>Which statement is correct about the costs?</p>
            <ul class="options">
                <li><input type="radio" name="q1" value="a"> Zapier costs $19.99, Make costs $9.00, n8n costs $50 - Make is cheapest</li>
                <li><input type="radio" name="q1" value="b"> All platforms cost under their limits - total costs are $19.99, $9.00, $50 respectively</li>
                <li><input type="radio" name="q1" value="c"> Zapier needs 4,000 tasks (over limit), Make needs 4,000 operations (under limit)</li>
                <li><input type="radio" name="q1" value="d"> n8n is most expensive due to server costs</li>
            </ul>
            <div class="explanation">
                <strong>Correct Answer: C</strong><br>
                800 records × 5 steps = 4,000 tasks for Zapier (exceeds 2,000 limit) vs. 4,000 operations for Make (under 10,000 limit). This demonstrates why operation counting matters more than base pricing. Zapier would need the Team plan ($69/month), making Make.com significantly cheaper for this scenario despite having "more expensive" operations per unit.
            </div>
        </div>

        <div class="question">
            <h3>Question 2: Trigger Strategy Selection</h3>
            <p>Which trigger type provides the fastest response time for time-critical processes?</p>
            <ul class="options">
                <li><input type="radio" name="q2" value="a"> Polling triggers checking every minute</li>
                <li><input type="radio" name="q2" value="b"> Webhook triggers with instant notifications</li>
                <li><input type="radio" name="q2" value="c"> Scheduled triggers running every 15 minutes</li>
                <li><input type="radio" name="q2" value="d"> Email-based triggers with IMAP monitoring</li>
            </ul>
            <div class="explanation">
                <strong>Correct Answer: B</strong><br>
                Webhook triggers provide instant execution when events occur, typically responding within seconds. Polling triggers have delays based on their check intervals (1-15 minutes), scheduled triggers run at predetermined times, and email triggers depend on IMAP polling frequency. For time-critical processes like payment failures or security alerts, webhooks are essential.
            </div>
        </div>

        <div class="question">
            <h3>Question 3: Drag and Drop - Platform Strengths Matching</h3>
            <p>Match each workflow requirement with the most suitable platform based on its strengths:</p>
            <div class="drag-drop">
                <div class="drag-items">
                    <h4>Workflow Requirements:</h4>
                    <div class="drag-item" draggable="true" data-req="simple">Simple CRM to email tool sync</div>
                    <div class="drag-item" draggable="true" data-req="complex">Multi-branch logic with data transformation</div>
                    <div class="drag-item" draggable="true" data-req="volume">High-volume processing (10K+ monthly)</div>
                    <div class="drag-item" draggable="true" data-req="custom">Custom business logic requiring code</div>
                </div>
                <div class="drop-zones">
                    <div class="drop-zone" data-platform="zapier">
                        <h4>Zapier</h4>
                        <p>User-friendly, reliable</p>
                    </div>
                    <div class="drop-zone" data-platform="make">
                        <h4>Make.com</h4>
                        <p>Visual, complex workflows</p>
                    </div>
                    <div class="drop-zone" data-platform="n8n">
                        <h4>n8n</h4>
                        <p>Code-friendly, unlimited</p>
                    </div>
                    <div class="drop-zone" data-platform="hybrid">
                        <h4>Hybrid Solution</h4>
                        <p>Multiple tools combined</p>
                    </div>
                </div>
            </div>
            <div class="explanation">
                <strong>Correct Matches:</strong><br>
                • Simple CRM sync → Zapier (excellent app support, easy setup)<br>
                • Multi-branch logic → Make.com (visual workflow builder, advanced routing)<br>
                • High-volume processing → n8n (unlimited executions, cost-effective at scale)<br>
                • Custom business logic → n8n (native JavaScript/Python support)
            </div>
        </div>

        <div class="question">
            <h3>Question 4: Error Handling Best Practices</h3>
            <p>A workflow processes payment notifications but occasionally fails due to API timeouts. What's the most robust error handling strategy?</p>
            <ul class="options">
                <li><input type="radio" name="q4" value="a"> Let it fail and manually retry later</li>
                <li><input type="radio" name="q4" value="b"> Implement retry logic with exponential backoff plus error notification</li>
                <li><input type="radio" name="q4" value="c"> Set up polling trigger instead of webhook to avoid timeouts</li>
                <li><input type="radio" name="q4" value="d"> Use multiple platforms to ensure redundancy</li>
            </ul>
            <div class="explanation">
                <strong>Correct Answer: B</strong><br>
                Retry logic with exponential backoff (1s, 2s, 4s, 8s delays) handles temporary API issues automatically while error notifications alert the team to persistent problems. This approach maintains automation benefits while ensuring critical processes don't fail silently. Polling triggers are slower and don't solve the underlying timeout issue.
            </div>
        </div>

        <div class="question">
            <h3>Question 5: Data Transformation Scenario</h3>
            <p>You need to convert this incoming webhook data format to match your CRM's expected format:</p>
            <div class="code-block">
                Incoming: {"customer_info": {"name": "John Doe", "email": "john@company.com"}, "order_total": "125.50"}<br>
                CRM Expected: {"contact_name": "John Doe", "email_address": "john@company.com", "deal_value": 125.50}
            </div>
            <p>Which transformation approach is most efficient?</p>
            <ul class="options">
                <li><input type="radio" name="q5" value="a"> Use separate formatter steps for each field mapping</li>
                <li><input type="radio" name="q5" value="b"> Write custom JavaScript/Python code to transform the entire object</li>
                <li><input type="radio" name="q5" value="c"> Use platform's built-in field mapping with data type conversion</li>
                <li><input type="radio" name="q5" value="d"> Parse manually using text manipulation functions</li>
            </ul>
            <div class="explanation">
                <strong>Correct Answer: C</strong><br>
                Platform built-in field mapping handles nested object access (customer_info.name → contact_name) and automatic data type conversion (string "125.50" → number 125.50) efficiently. This approach is faster to implement, more maintainable, and uses fewer operations/tasks than separate formatter steps or custom code for simple transformations.
            </div>
        </div>

        <div class="question">
            <h3>Question 6: Workflow Optimization Strategy</h3>
            <p>Your Make.com workflow uses 150 operations per execution but you only have 10,000 operations monthly. How can you optimize to handle more volume?</p>
            <ul class="options">
                <li><input type="radio" name="q6" value="a"> Upgrade to Pro plan for more operations</li>
                <li><input type="radio" name="q6" value="b"> Use aggregators to process multiple records in single operations</li>
                <li><input type="radio" name="q6" value="c"> Switch to Zapier for better task efficiency</li>
                <li><input type="radio" name="q6" value="d"> Split workflow into multiple smaller scenarios</li>
            </ul>
            <div class="explanation">
                <strong>Correct Answer: B</strong><br>
                Aggregators in Make.com can process multiple records in a single operation, potentially reducing 150 operations to 10-20 operations per execution. This optimization technique can 5-10x your processing capacity within the same plan limits. Splitting workflows actually increases operation count, and switching platforms should be a last resort.
            </div>
        </div>

        <div class="question">
            <h3>Question 7: Short Answer - ROI Calculation</h3>
            <p>Calculate monthly savings: Current process takes 45 hours at $55/hour. Automation reduces this to 8 hours plus $75 platform cost. What's the net monthly savings?</p>
            <input type="text" class="short-answer" name="q7" placeholder="Enter your calculation and final answer">
            <div class="explanation">
                <strong>Sample Answer:</strong><br>
                Current cost: 45 hours × $55/hour = $2,475/month<br>
                New cost: 8 hours × $55/hour + $75 platform = $440 + $75 = $515/month<br>
                Net savings: $2,475 - $515 = $1,960/month<br>
                <br>
                <em>Accept answers between $1,950-$1,970 with reasonable calculation shown.</em>
            </div>
        </div>

        <div class="question">
            <h3>Question 8: Platform Migration Scenario</h3>
            <p>A company built 15 workflows in Zapier but hit task limits and costs are escalating. What's the best migration strategy?</p>
            <ul class="options">
                <li><input type="radio" name="q8" value="a"> Migrate all workflows to Make.com immediately for cost savings</li>
                <li><input type="radio" name="q8" value="b"> Identify highest-volume workflows for n8n migration, keep simple ones in Zapier</li>
                <li><input type="radio" name="q8" value="c"> Rebuild everything in custom code for maximum control</li>
                <li><input type="radio" name="q8" value="d"> Upgrade to Zapier Enterprise plan to avoid migration</li>
            </ul>
            <div class="explanation">
                <strong>Correct Answer: B</strong><br>
                Hybrid approach optimizes costs while minimizing migration risk. High-volume, complex workflows benefit most from n8n's unlimited executions, while simple, low-volume workflows can remain in Zapier. This strategy balances cost optimization with implementation effort and maintains operational stability during transition.
            </div>
        </div>

        <div class="question">
            <h3>Question 9: Conditional Logic Implementation</h3>
            <p>You need to route leads based on multiple criteria: company size, industry, and budget. Which platform feature is most suitable?</p>
            <ul class="options">
                <li><input type="radio" name="q9" value="a"> Simple if/then filters in sequence</li>
                <li><input type="radio" name="q9" value="b"> Router/switch with multiple condition branches</li>
                <li><input type="radio" name="q9" value="c"> Separate workflows for each combination</li>
                <li><input type="radio" name="q9" value="d"> External lookup table with single condition</li>
            </ul>
            <div class="explanation">
                <strong>Correct Answer: B</strong><br>
                Router/switch logic allows multiple condition branches (Enterprise + Manufacturing + High Budget → Priority Sales; SMB + Technology + Medium Budget → Standard Sales) in a single, maintainable workflow. Sequential filters can become complex and hard to maintain, while separate workflows create management overhead and potential inconsistencies.
            </div>
        </div>

        <div class="question">
            <h3>Question 10: Scaling Considerations</h3>
            <p>Your startup's automation needs are growing from 1,000 to 50,000 monthly executions. Which factor is most critical for platform selection?</p>
            <ul class="options">
                <li><input type="radio" name="q10" value="a"> Number of available app integrations</li>
                <li><input type="radio" name="q10" value="b"> User interface ease of use</li>
                <li><input type="radio" name="q10" value="c"> Pricing model scalability and operational efficiency</li>
                <li><input type="radio" name="q10" value="d"> Customer support response times</li>
            </ul>
            <div class="explanation">
                <strong>Correct Answer: C</strong><br>
                At 50x volume increase, pricing model becomes critical. Zapier's task-based pricing could cost $500+ monthly, Make.com's operations might require Pro/Teams plans, while n8n self-hosted remains at server cost regardless of volume. Operational efficiency (how many platform units each workflow consumes) directly impacts costs at scale more than features or support.
            </div>
        </div>

        <button class="submit-btn" onclick="submitQuiz()">Submit Quiz</button>
        
        <div id="result" class="result" style="display: none;"></div>
        
        <div class="navigation">
            <a href="../../Level2_index.html">← Level 2 Index</a>
            <a href="L2_C2_reading.html">📚 Reading</a>
            <a href="L2_C2_project.html">🎯 Project</a>
            <a href="L2_C3_reading.html">Next Chapter →</a>
        </div>
    </div>

    <script>
        // Drag and Drop Functionality
        let draggedElement = null;
        const correctMatches = {
            'simple': 'zapier',
            'complex': 'make',
            'volume': 'n8n',
            'custom': 'n8n'
        };
        let dropMatches = {};

        // Initialize drag and drop
        document.addEventListener('DOMContentLoaded', function() {
            const dragItems = document.querySelectorAll('.drag-item');
            const dropZones = document.querySelectorAll('.drop-zone');

            dragItems.forEach(item => {
                item.addEventListener('dragstart', function(e) {
                    draggedElement = this;
                    this.style.opacity = '0.5';
                });

                item.addEventListener('dragend', function(e) {
                    this.style.opacity = '1';
                });
            });

            dropZones.forEach(zone => {
                zone.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    this.classList.add('drag-over');
                });

                zone.addEventListener('dragleave', function(e) {
                    this.classList.remove('drag-over');
                });

                zone.addEventListener('drop', function(e) {
                    e.preventDefault();
                    this.classList.remove('drag-over');
                    
                    if (draggedElement) {
                        this.appendChild(draggedElement);
                        const requirement = draggedElement.getAttribute('data-req');
                        const platform = this.getAttribute('data-platform');
                        dropMatches[requirement] = platform;
                        draggedElement = null;
                    }
                });
            });
        });

        // Radio button selection highlighting
        document.addEventListener('change', function(e) {
            if (e.target.type === 'radio') {
                // Remove previous selections
                const questionDiv = e.target.closest('.question');
                questionDiv.querySelectorAll('.options li').forEach(li => {
                    li.classList.remove('selected');
                });
                
                // Highlight selected option
                e.target.closest('li').classList.add('selected');
            }
        });

        function submitQuiz() {
            const answers = {
                q1: 'c',
                q2: 'b', 
                q3: correctMatches, // drag and drop
                q4: 'b',
                q5: 'c',
                q6: 'b',
                q7: 'calculation', // short answer
                q8: 'b',
                q9: 'b',
                q10: 'c'
            };

            let score = 0;
            let totalQuestions = 10;

            // Check multiple choice questions
            ['q1', 'q2', 'q4', 'q5', 'q6', 'q8', 'q9', 'q10'].forEach(q => {
                const selected = document.querySelector(`input[name="${q}"]:checked`);
                const questionDiv = document.querySelector(`input[name="${q}"]`).closest('.question');
                
                if (selected && selected.value === answers[q]) {
                    score++;
                    questionDiv.querySelector('.explanation').classList.add('show-explanation');
                    questionDiv.style.borderLeftColor = '#27ae60';
                } else {
                    questionDiv.querySelector('.explanation').classList.add('show-explanation');
                    questionDiv.style.borderLeftColor = '#e74c3c';
                }
            });

            // Check drag and drop (q3)
            let dragDropCorrect = true;
            for (let req in correctMatches) {
                if (dropMatches[req] !== correctMatches[req]) {
                    dragDropCorrect = false;
                    break;
                }
            }
            if (dragDropCorrect && Object.keys(dropMatches).length === Object.keys(correctMatches).length) {
                score++;
                document.querySelector('.question:nth-child(4)').style.borderLeftColor = '#27ae60';
            } else {
                document.querySelector('.question:nth-child(4)').style.borderLeftColor = '#e74c3c';
            }
            document.querySelector('.question:nth-child(4) .explanation').classList.add('show-explanation');

            // Check short answer (q7) - accept range for calculation
            const shortAnswer = document.querySelector('input[name="q7"]').value.toLowerCase();
            if (shortAnswer.includes('1960') || shortAnswer.includes('1,960') || shortAnswer.includes('$1960') || 
                (shortAnswer.includes('2475') && shortAnswer.includes('515'))) {
                score++;
                document.querySelector('.question:nth-child(8)').style.borderLeftColor = '#27ae60';
            } else {
                document.querySelector('.question:nth-child(8)').style.borderLeftColor = '#e74c3c';
            }
            document.querySelector('.question:nth-child(8) .explanation').classList.add('show-explanation');

            // Calculate percentage
            const percentage = (score / totalQuestions) * 100;
            const resultDiv = document.getElementById('result');
            
            if (percentage >= 80) {
                resultDiv.className = 'result pass';
                resultDiv.innerHTML = `
                    <h3>🎉 Congratulations! You Passed!</h3>
                    <p>Score: ${score}/${totalQuestions} (${percentage.toFixed(1)}%)</p>
                    <p>You've demonstrated strong understanding of low-code workflow tools. You're ready to tackle database design concepts in Chapter 2.3.</p>
                `;
            } else {
                resultDiv.className = 'result fail';
                resultDiv.innerHTML = `
                    <h3>📚 Additional Study Recommended</h3>
                    <p>Score: ${score}/${totalQuestions} (${percentage.toFixed(1)}%)</p>
                    <p>Review the explanations below and revisit the reading material. Focus on platform pricing models, optimization techniques, and workflow design patterns. Retake when ready!</p>
                `;
            }
            
            resultDiv.style.display = 'block';
            
            // Scroll to results
            resultDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
    </script>
</body>
</html>
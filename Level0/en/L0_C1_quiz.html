<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Systems Thinking 101 - Quiz</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .quiz-container {
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        .question {
            margin: 25px 0;
            padding: 20px;
            border-left: 4px solid #3498db;
            background-color: #f8f9fa;
        }
        .question h3 {
            color: #2c3e50;
            margin-top: 0;
        }
        .options {
            margin: 15px 0;
        }
        .option {
            margin: 10px 0;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .option:hover {
            border-color: #3498db;
            background-color: #ebf3fd;
        }
        .option.selected {
            border-color: #3498db;
            background-color: #3498db;
            color: white;
        }
        .option.correct {
            border-color: #27ae60;
            background-color: #27ae60;
            color: white;
        }
        .option.incorrect {
            border-color: #e74c3c;
            background-color: #e74c3c;
            color: white;
        }
        .drag-drop {
            display: flex;
            gap: 20px;
            margin: 20px 0;
        }
        .drag-items, .drop-zones {
            flex: 1;
        }
        .drag-item {
            padding: 10px;
            margin: 5px 0;
            background: #3498db;
            color: white;
            border-radius: 5px;
            cursor: move;
            text-align: center;
        }
        .drop-zone {
            min-height: 50px;
            border: 2px dashed #bdc3c7;
            border-radius: 5px;
            margin: 5px 0;
            padding: 10px;
            text-align: center;
            color: #7f8c8d;
        }
        .drop-zone.drag-over {
            border-color: #3498db;
            background-color: #ebf3fd;
        }
        input[type="text"] {
            width: 100%;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 5px;
            font-size: 14px;
        }
        button {
            background: #3498db;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 20px 10px;
        }
        button:hover {
            background: #2980b9;
        }
        .results {
            margin-top: 30px;
            padding: 20px;
            border-radius: 5px;
            text-align: center;
        }
        .pass {
            background: #d5edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .fail {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .explanation {
            margin: 15px 0;
            padding: 15px;
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            display: none;
        }
        .explanation.show {
            display: block;
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <h1>Systems Thinking 101 - Quiz</h1>
        <p>Answer all questions to test your understanding of systems thinking concepts. You need 80% or higher to pass.</p>
        
        <div id="quiz-content">
            <!-- Question 1 -->
            <div class="question" data-question="1" data-type="multiple-choice" data-correct="2">
                <h3>1. What is the key difference between linear thinking and systems thinking?</h3>
                <div class="options">
                    <div class="option" data-value="0">Linear thinking focuses on immediate solutions while systems thinking focuses on long-term planning</div>
                    <div class="option" data-value="1">Linear thinking uses data while systems thinking relies on intuition</div>
                    <div class="option" data-value="2">Linear thinking breaks problems into isolated parts while systems thinking examines interconnections and relationships</div>
                    <div class="option" data-value="3">Linear thinking is faster while systems thinking is more thorough</div>
                </div>
                <div class="explanation">
                    <strong>Correct!</strong> Systems thinking focuses on understanding how parts of a system interact and influence each other, rather than treating problems as isolated events. This holistic approach helps identify root causes and leverage points.
                </div>
            </div>

            <!-- Question 2 -->
            <div class="question" data-question="2" data-type="multiple-choice" data-correct="1">
                <h3>2. In Sarah's print shop scenario, what type of feedback loop was created when she hired more staff and offered overtime?</h3>
                <div class="options">
                    <div class="option" data-value="0">A balancing feedback loop that stabilized the system</div>
                    <div class="option" data-value="1">A reinforcing feedback loop that amplified the problems</div>
                    <div class="option" data-value="2">A delayed feedback loop that will show benefits later</div>
                    <div class="option" data-value="3">No feedback loop was created</div>
                </div>
                <div class="explanation">
                    <strong>Correct!</strong> Sarah created a reinforcing feedback loop: higher costs → pressure to cut corners → lower quality → more complaints → more pressure → hire more people → higher costs. This amplified rather than solved the underlying problems.
                </div>
            </div>

            <!-- Question 3 - Drag and Drop -->
            <div class="question" data-question="3" data-type="drag-drop">
                <h3>3. Match each systems thinking concept with its definition:</h3>
                <div class="drag-drop">
                    <div class="drag-items">
                        <div class="drag-item" draggable="true" data-value="leverage">Leverage Points</div>
                        <div class="drag-item" draggable="true" data-value="mental">Mental Models</div>
                        <div class="drag-item" draggable="true" data-value="delays">Delays</div>
                        <div class="drag-item" draggable="true" data-value="structure">Structure Drives Behavior</div>
                    </div>
                    <div class="drop-zones">
                        <div class="drop-zone" data-target="leverage">Places where small changes can produce big results</div>
                        <div class="drop-zone" data-target="mental">Internal representations of how the world works</div>
                        <div class="drop-zone" data-target="delays">Time gaps between causes and effects</div>
                        <div class="drop-zone" data-target="structure">System design influences outcomes more than individual effort</div>
                    </div>
                </div>
                <div class="explanation">
                    <strong>Great job!</strong> Understanding these core concepts helps you identify why systems behave as they do and where to intervene most effectively.
                </div>
            </div>

            <!-- Question 4 -->
            <div class="question" data-question="4" data-type="multiple-choice" data-correct="3">
                <h3>4. Which of the following represents the highest leverage intervention in a business system?</h3>
                <div class="options">
                    <div class="option" data-value="0">Changing employee incentive rates</div>
                    <div class="option" data-value="1">Upgrading software systems</div>
                    <div class="option" data-value="2">Implementing new quality control procedures</div>
                    <div class="option" data-value="3">Changing the organization's paradigm about customer relationships</div>
                </div>
                <div class="explanation">
                    <strong>Excellent!</strong> Paradigm shifts represent the highest leverage points in systems. Changing how an organization fundamentally views customer relationships affects all policies, procedures, and behaviors downstream.
                </div>
            </div>

            <!-- Question 5 - Short Answer -->
            <div class="question" data-question="5" data-type="short-answer">
                <h3>5. Identify one potential unintended consequence of offering aggressive discounts to win back customers in Sarah's print shop scenario.</h3>
                <input type="text" placeholder="Enter your answer here..." data-keywords="quality,profit,margin,brand,value,cheap,perception,sustainable">
                <div class="explanation">
                    <strong>Good thinking!</strong> Possible unintended consequences include: customers perceiving the brand as low-value, creating unsustainable profit margins, attracting price-sensitive customers who won't be loyal, or further pressure to cut quality to maintain margins.
                </div>
            </div>

            <!-- Question 6 -->
            <div class="question" data-question="6" data-type="multiple-choice" data-correct="2">
                <h3>6. What does "policy resistance" mean in systems thinking?</h3>
                <div class="options">
                    <div class="option" data-value="0">Employees resisting new company policies</div>
                    <div class="option" data-value="1">Government regulations limiting business operations</div>
                    <div class="option" data-value="2">The system pushing back against interventions to maintain its current state</div>
                    <div class="option" data-value="3">Difficulty in implementing organizational change</div>
                </div>
                <div class="explanation">
                    <strong>Correct!</strong> Policy resistance occurs when the system's structure naturally counteracts attempts to change it. This is why many well-intentioned interventions fail or create unintended consequences.
                </div>
            </div>

            <!-- Question 7 -->
            <div class="question" data-question="7" data-type="multiple-choice" data-correct="0">
                <h3>7. In a causal-loop diagram, what does a "-" (negative) link indicate?</h3>
                <div class="options">
                    <div class="option" data-value="0">Variables move in opposite directions (one increases, the other decreases)</div>
                    <div class="option" data-value="1">The relationship has a negative impact on the business</div>
                    <div class="option" data-value="2">There is a time delay in the relationship</div>
                    <div class="option" data-value="3">The relationship is uncertain or weak</div>
                </div>
                <div class="explanation">
                    <strong>Right!</strong> A negative link means that as one variable increases, the other decreases, or vice versa. For example, as customer satisfaction increases, customer complaints decrease.
                </div>
            </div>

            <!-- Question 8 - Multiple Choice -->
            <div class="question" data-question="8" data-type="multiple-choice" data-correct="1">
                <h3>8. Why are delays problematic in business systems?</h3>
                <div class="options">
                    <div class="option" data-value="0">They reduce employee productivity</div>
                    <div class="option" data-value="1">They make it difficult to connect cause and effect, leading to overcorrection</div>
                    <div class="option" data-value="2">They increase operational costs</div>
                    <div class="option" data-value="3">They prevent automation implementation</div>
                </div>
                <div class="explanation">
                    <strong>Exactly!</strong> Delays create a gap between when we take action and when we see results. This often leads to applying more of the same solution before seeing if it worked, resulting in overcorrection and system instability.
                </div>
            </div>

            <!-- Question 9 - Short Answer -->
            <div class="question" data-question="9" data-type="short-answer">
                <h3>9. Give an example of how "structure drives behavior" might manifest in a retail environment.</h3>
                <input type="text" placeholder="Enter your answer here..." data-keywords="commission,incentive,schedule,layout,process,training,measurement,reward">
                <div class="explanation">
                    <strong>Great example!</strong> Structure drives behavior examples include: commission-only pay leading to aggressive sales tactics, poor store layout causing customer confusion, inadequate training systems resulting in inconsistent service, or measurement systems that reward individual performance over teamwork.
                </div>
            </div>

            <!-- Question 10 -->
            <div class="question" data-question="10" data-type="multiple-choice" data-correct="3">
                <h3>10. What is the primary purpose of creating causal-loop diagrams?</h3>
                <div class="options">
                    <div class="option" data-value="0">To create detailed project timelines</div>
                    <div class="option" data-value="1">To assign responsibility for problems</div>
                    <div class="option" data-value="2">To document current business processes</div>
                    <div class="option" data-value="3">To visualize feedback relationships and identify leverage points for intervention</div>
                </div>
                <div class="explanation">
                    <strong>Perfect!</strong> Causal-loop diagrams help us see the circular relationships that create system behavior and identify where small changes might produce significant improvements.
                </div>
            </div>
        </div>

        <button onclick="submitQuiz()">Submit Quiz</button>
        <button onclick="resetQuiz()" style="background: #95a5a6;">Reset Quiz</button>

        <div id="results" class="results" style="display: none;">
        </div>
    </div>

    <script>
        let userAnswers = {};
        let dragDropAnswers = {};

        // Handle multiple choice selections
        document.querySelectorAll('.option').forEach(option => {
            option.addEventListener('click', function() {
                const question = this.closest('.question');
                const questionNum = question.dataset.question;
                
                // Clear previous selections
                question.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
                
                // Select current option
                this.classList.add('selected');
                userAnswers[questionNum] = parseInt(this.dataset.value);
            });
        });

        // Handle drag and drop
        let draggedElement = null;

        document.querySelectorAll('.drag-item').forEach(item => {
            item.addEventListener('dragstart', function(e) {
                draggedElement = this;
                e.dataTransfer.effectAllowed = 'move';
            });
        });

        document.querySelectorAll('.drop-zone').forEach(zone => {
            zone.addEventListener('dragover', function(e) {
                e.preventDefault();
                this.classList.add('drag-over');
            });

            zone.addEventListener('dragleave', function() {
                this.classList.remove('drag-over');
            });

            zone.addEventListener('drop', function(e) {
                e.preventDefault();
                this.classList.remove('drag-over');
                
                if (draggedElement) {
                    this.appendChild(draggedElement);
                    const questionNum = this.closest('.question').dataset.question;
                    if (!dragDropAnswers[questionNum]) dragDropAnswers[questionNum] = {};
                    dragDropAnswers[questionNum][this.dataset.target] = draggedElement.dataset.value;
                    draggedElement = null;
                }
            });
        });

        // Handle short answers
        document.querySelectorAll('input[type="text"]').forEach(input => {
            input.addEventListener('input', function() {
                const questionNum = this.closest('.question').dataset.question;
                userAnswers[questionNum] = this.value.toLowerCase().trim();
            });
        });

        function submitQuiz() {
            let score = 0;
            let totalQuestions = 10;
            
            document.querySelectorAll('.question').forEach(question => {
                const questionNum = question.dataset.question;
                const questionType = question.dataset.type;
                const explanation = question.querySelector('.explanation');
                
                if (questionType === 'multiple-choice') {
                    const correctAnswer = parseInt(question.dataset.correct);
                    const userAnswer = userAnswers[questionNum];
                    
                    question.querySelectorAll('.option').forEach(option => {
                        const optionValue = parseInt(option.dataset.value);
                        if (optionValue === correctAnswer) {
                            option.classList.add('correct');
                        } else if (optionValue === userAnswer && optionValue !== correctAnswer) {
                            option.classList.add('incorrect');
                        }
                    });
                    
                    if (userAnswer === correctAnswer) {
                        score++;
                        explanation.classList.add('show');
                    }
                } else if (questionType === 'drag-drop') {
                    const answers = dragDropAnswers[questionNum] || {};
                    const correctMatches = {
                        'leverage': 'leverage',
                        'mental': 'mental',
                        'delays': 'delays',
                        'structure': 'structure'
                    };
                    
                    let correctCount = 0;
                    for (let key in correctMatches) {
                        if (answers[key] === correctMatches[key]) {
                            correctCount++;
                        }
                    }
                    
                    if (correctCount === Object.keys(correctMatches).length) {
                        score++;
                        explanation.classList.add('show');
                    }
                } else if (questionType === 'short-answer') {
                    const keywords = question.querySelector('input').dataset.keywords.split(',');
                    const userAnswer = userAnswers[questionNum] || '';
                    
                    const hasKeyword = keywords.some(keyword => 
                        userAnswer.includes(keyword.trim())
                    );
                    
                    if (hasKeyword && userAnswer.length > 10) {
                        score++;
                    }
                    explanation.classList.add('show');
                }
            });
            
            const percentage = Math.round((score / totalQuestions) * 100);
            const resultsDiv = document.getElementById('results');
            
            if (percentage >= 80) {
                resultsDiv.className = 'results pass';
                resultsDiv.innerHTML = `
                    <h2>Congratulations! 🎉</h2>
                    <p>You scored ${score}/${totalQuestions} (${percentage}%)</p>
                    <p>You have successfully demonstrated understanding of systems thinking concepts. You may proceed to the next chapter.</p>
                `;
            } else {
                resultsDiv.className = 'results fail';
                resultsDiv.innerHTML = `
                    <h2>Keep Learning 📚</h2>
                    <p>You scored ${score}/${totalQuestions} (${percentage}%)</p>
                    <p>You need 80% or higher to pass. Please review the material and try again. Focus on the concepts highlighted in the explanations above.</p>
                `;
            }
            
            resultsDiv.style.display = 'block';
            resultsDiv.scrollIntoView({ behavior: 'smooth' });
        }

        function resetQuiz() {
            userAnswers = {};
            dragDropAnswers = {};
            
            document.querySelectorAll('.option').forEach(option => {
                option.classList.remove('selected', 'correct', 'incorrect');
            });
            
            document.querySelectorAll('.explanation').forEach(exp => {
                exp.classList.remove('show');
            });
            
            document.querySelectorAll('input[type="text"]').forEach(input => {
                input.value = '';
            });
            
            // Reset drag and drop items to original positions
            const dragItems = document.querySelector('.drag-items');
            document.querySelectorAll('.drag-item').forEach(item => {
                dragItems.appendChild(item);
            });
            
            document.getElementById('results').style.display = 'none';
        }
    </script>
</body>
</html>
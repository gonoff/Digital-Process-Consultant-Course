<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stakeholder Interviewing - Quiz</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .quiz-container {
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        .question {
            margin: 25px 0;
            padding: 20px;
            border-left: 4px solid #3498db;
            background-color: #f8f9fa;
        }
        .question h3 {
            color: #2c3e50;
            margin-top: 0;
        }
        .options {
            margin: 15px 0;
        }
        .option {
            margin: 10px 0;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .option:hover {
            border-color: #3498db;
            background-color: #ebf3fd;
        }
        .option.selected {
            border-color: #3498db;
            background-color: #3498db;
            color: white;
        }
        .option.correct {
            border-color: #27ae60;
            background-color: #27ae60;
            color: white;
        }
        .option.incorrect {
            border-color: #e74c3c;
            background-color: #e74c3c;
            color: white;
        }
        .drag-drop {
            display: flex;
            gap: 20px;
            margin: 20px 0;
        }
        .drag-items, .drop-zones {
            flex: 1;
        }
        .drag-item {
            padding: 10px;
            margin: 5px 0;
            background: #3498db;
            color: white;
            border-radius: 5px;
            cursor: move;
            text-align: center;
        }
        .drop-zone {
            min-height: 50px;
            border: 2px dashed #bdc3c7;
            border-radius: 5px;
            margin: 5px 0;
            padding: 10px;
            text-align: center;
            color: #7f8c8d;
        }
        .drop-zone.drag-over {
            border-color: #3498db;
            background-color: #ebf3fd;
        }
        input[type="text"] {
            width: 100%;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 5px;
            font-size: 14px;
        }
        button {
            background: #3498db;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 20px 10px;
        }
        button:hover {
            background: #2980b9;
        }
        .results {
            margin-top: 30px;
            padding: 20px;
            border-radius: 5px;
            text-align: center;
        }
        .pass {
            background: #d5edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .fail {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .explanation {
            margin: 15px 0;
            padding: 15px;
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            display: none;
        }
        .explanation.show {
            display: block;
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <h1>Stakeholder Interviewing - Quiz</h1>
        <p>Test your understanding of stakeholder interview techniques, question types, empathy mapping, and trust-building strategies. You need 80% or higher to pass.</p>
        
        <div id="quiz-content">
            <!-- Question 1 -->
            <div class="question" data-question="1" data-type="multiple-choice" data-correct="2">
                <h3>1. What was the key breakthrough in Lisa's hospital stakeholder interviews?</h3>
                <div class="options">
                    <div class="option" data-value="0">Discovering pharmacy delays were the main bottleneck</div>
                    <div class="option" data-value="1">Finding out that transport services were understaffed</div>
                    <div class="option" data-value="2">Learning that night shift nurses deliberately delayed discharges until morning</div>
                    <div class="option" data-value="3">Identifying incomplete discharge orders from physicians</div>
                </div>
                <div class="explanation">
                    <strong>Correct!</strong> The breakthrough came when a night-shift nurse revealed they were deliberately delaying discharges until morning shift because the day team had more resources, but hadn't told management for fear of getting in trouble.
                </div>
            </div>

            <!-- Question 2 -->
            <div class="question" data-question="2" data-type="multiple-choice" data-correct="1">
                <h3>2. Which type of stakeholder is often overlooked but critically important?</h3>
                <div class="options">
                    <div class="option" data-value="0">Senior leadership</div>
                    <div class="option" data-value="1">Night shift workers and informal leaders</div>
                    <div class="option" data-value="2">External customers</div>
                    <div class="option" data-value="3">Process owners</div>
                </div>
                <div class="explanation">
                    <strong>Right!</strong> Hidden stakeholders like night shift workers, informal leaders, and part-time staff are often overlooked but have unique perspectives and constraints that can provide critical insights.
                </div>
            </div>

            <!-- Question 3 - SOAR Framework -->
            <div class="question" data-question="3" data-type="drag-drop">
                <h3>3. Match each element of the SOAR interview framework with its focus:</h3>
                <div class="drag-drop">
                    <div class="drag-items">
                        <div class="drag-item" draggable="true" data-value="situation">Situation</div>
                        <div class="drag-item" draggable="true" data-value="obstacles">Obstacles</div>
                        <div class="drag-item" draggable="true" data-value="aspirations">Aspirations</div>
                        <div class="drag-item" draggable="true" data-value="results">Results</div>
                    </div>
                    <div class="drop-zones">
                        <div class="drop-zone" data-target="situation">Understanding context and role</div>
                        <div class="drop-zone" data-target="obstacles">Identifying barriers and challenges</div>
                        <div class="drop-zone" data-target="aspirations">Exploring improvement desires</div>
                        <div class="drop-zone" data-target="results">Understanding outcomes and impacts</div>
                    </div>
                </div>
                <div class="explanation">
                    <strong>Excellent!</strong> SOAR provides a structured approach: Situation (context), Obstacles (barriers), Aspirations (improvement desires), and Results (outcomes and impacts).
                </div>
            </div>

            <!-- Question 4 -->
            <div class="question" data-question="4" data-type="multiple-choice" data-correct="0">
                <h3>4. What is the best response to "We've tried that before"?</h3>
                <div class="options">
                    <div class="option" data-value="0">"Tell me about that experience. What worked? What didn't? How might things be different now?"</div>
                    <div class="option" data-value="1">"That was probably done wrong. This time will be different."</div>
                    <div class="option" data-value="2">"Let's focus on new ideas instead."</div>
                    <div class="option" data-value="3">"Times have changed, so the solution should work now."</div>
                </div>
                <div class="explanation">
                    <strong>Perfect!</strong> This response acknowledges their experience, shows interest in learning from it, and explores how current conditions might enable success where previous attempts failed.
                </div>
            </div>

            <!-- Question 5 -->
            <div class="question" data-question="5" data-type="multiple-choice" data-correct="3">
                <h3>5. Which questioning technique encourages the most detailed responses?</h3>
                <div class="options">
                    <div class="option" data-value="0">Yes/No questions</div>
                    <div class="option" data-value="1">Multiple choice questions</div>
                    <div class="option" data-value="2">Leading questions</div>
                    <div class="option" data-value="3">Open-ended questions</div>
                </div>
                <div class="explanation">
                    <strong>Correct!</strong> Open-ended questions like "Walk me through what happens when..." encourage detailed responses and uncover insights that closed questions might miss.
                </div>
            </div>

            <!-- Question 6 - Short Answer -->
            <div class="question" data-question="6" data-type="short-answer">
                <h3>6. Name two components of an empathy map used to understand stakeholder experiences.</h3>
                <input type="text" placeholder="Enter your answer here..." data-keywords="says,thinks,does,feels,quotes,behaviors,emotions,beliefs">
                <div class="explanation">
                    <strong>Good answer!</strong> Empathy maps include: Says (direct quotes), Thinks (beliefs and assumptions), Does (observable behaviors), and Feels (emotions and feelings).
                </div>
            </div>

            <!-- Question 7 -->
            <div class="question" data-question="7" data-type="multiple-choice" data-correct="2">
                <h3>7. How long should a typical stakeholder interview last?</h3>
                <div class="options">
                    <div class="option" data-value="0">15-30 minutes</div>
                    <div class="option" data-value="1">30-45 minutes</div>
                    <div class="option" data-value="2">60-90 minutes</div>
                    <div class="option" data-value="3">2+ hours</div>
                </div>
                <div class="explanation">
                    <strong>Right!</strong> 60-90 minutes allows enough time to build rapport, explore the process in depth, and uncover insights without causing stakeholder fatigue.
                </div>
            </div>

            <!-- Question 8 - Short Answer -->
            <div class="question" data-question="8" data-type="short-answer">
                <h3>8. Give an example of a probing question that digs deeper into a stakeholder's response.</h3>
                <input type="text" placeholder="Enter your answer here..." data-keywords="example,specific,causes,often,tried,happen,why,how,what">
                <div class="explanation">
                    <strong>Great example!</strong> Probing questions include: "Can you give me a specific example?", "What causes that to happen?", "How often does that occur?", or "What have you tried to address that?"
                </div>
            </div>

            <!-- Question 9 -->
            <div class="question" data-question="9" data-type="multiple-choice" data-correct="1">
                <h3>9. What should you do first when opening a stakeholder interview?</h3>
                <div class="options">
                    <div class="option" data-value="0">Start asking about process problems immediately</div>
                    <div class="option" data-value="1">Explain the purpose and assure confidentiality</div>
                    <div class="option" data-value="2">Share what other stakeholders have told you</div>
                    <div class="option" data-value="3">Present your preliminary findings</div>
                </div>
                <div class="explanation">
                    <strong>Exactly!</strong> Opening with purpose explanation and confidentiality assurance builds trust and helps stakeholders feel safe sharing honest insights about process problems.
                </div>
            </div>

            <!-- Question 10 -->
            <div class="question" data-question="10" data-type="multiple-choice" data-correct="3">
                <h3>10. Which of these is NOT a primary purpose of stakeholder interviews?</h3>
                <div class="options">
                    <div class="option" data-value="0">Information gathering about current processes</div>
                    <div class="option" data-value="1">Problem identification and root cause discovery</div>
                    <div class="option" data-value="2">Relationship building and trust establishment</div>
                    <div class="option" data-value="3">Assigning blame for process failures</div>
                </div>
                <div class="explanation">
                    <strong>Correct!</strong> Stakeholder interviews should never be used to assign blame. They focus on understanding, problem-solving, and building relationships to support improvement efforts.
                </div>
            </div>

            <!-- Question 11 -->
            <div class="question" data-question="11" data-type="multiple-choice" data-correct="0">
                <h3>11. When a stakeholder says "You don't understand our situation," the best response is:</h3>
                <div class="options">
                    <div class="option" data-value="0">"You're right, I don't fully understand yet. Help me learn. What am I missing?"</div>
                    <div class="option" data-value="1">"I've seen this type of situation many times before."</div>
                    <div class="option" data-value="2">"Let me explain how similar organizations handle this."</div>
                    <div class="option" data-value="3">"That's why I'm here - to figure out your situation."</div>
                </div>
                <div class="explanation">
                    <strong>Perfect!</strong> This response acknowledges their expertise, shows humility, and invites them to share their knowledge, turning potential resistance into collaboration.
                </div>
            </div>
        </div>

        <button onclick="submitQuiz()">Submit Quiz</button>
        <button onclick="resetQuiz()" style="background: #95a5a6;">Reset Quiz</button>

        <div id="results" class="results" style="display: none;">
        </div>
    </div>

    <script>
        let userAnswers = {};
        let dragDropAnswers = {};

        // Handle multiple choice selections
        document.querySelectorAll('.option').forEach(option => {
            option.addEventListener('click', function() {
                const question = this.closest('.question');
                const questionNum = question.dataset.question;
                
                // Clear previous selections
                question.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
                
                // Select current option
                this.classList.add('selected');
                userAnswers[questionNum] = parseInt(this.dataset.value);
            });
        });

        // Handle drag and drop
        let draggedElement = null;

        document.querySelectorAll('.drag-item').forEach(item => {
            item.addEventListener('dragstart', function(e) {
                draggedElement = this;
                e.dataTransfer.effectAllowed = 'move';
            });
        });

        document.querySelectorAll('.drop-zone').forEach(zone => {
            zone.addEventListener('dragover', function(e) {
                e.preventDefault();
                this.classList.add('drag-over');
            });

            zone.addEventListener('dragleave', function() {
                this.classList.remove('drag-over');
            });

            zone.addEventListener('drop', function(e) {
                e.preventDefault();
                this.classList.remove('drag-over');
                
                if (draggedElement) {
                    this.appendChild(draggedElement);
                    const questionNum = this.closest('.question').dataset.question;
                    if (!dragDropAnswers[questionNum]) dragDropAnswers[questionNum] = {};
                    dragDropAnswers[questionNum][this.dataset.target] = draggedElement.dataset.value;
                    draggedElement = null;
                }
            });
        });

        // Handle short answers
        document.querySelectorAll('input[type="text"]').forEach(input => {
            input.addEventListener('input', function() {
                const questionNum = this.closest('.question').dataset.question;
                userAnswers[questionNum] = this.value.toLowerCase().trim();
            });
        });

        function submitQuiz() {
            let score = 0;
            let totalQuestions = 11;
            
            document.querySelectorAll('.question').forEach(question => {
                const questionNum = question.dataset.question;
                const questionType = question.dataset.type;
                const explanation = question.querySelector('.explanation');
                
                if (questionType === 'multiple-choice') {
                    const correctAnswer = parseInt(question.dataset.correct);
                    const userAnswer = userAnswers[questionNum];
                    
                    question.querySelectorAll('.option').forEach(option => {
                        const optionValue = parseInt(option.dataset.value);
                        if (optionValue === correctAnswer) {
                            option.classList.add('correct');
                        } else if (optionValue === userAnswer && optionValue !== correctAnswer) {
                            option.classList.add('incorrect');
                        }
                    });
                    
                    if (userAnswer === correctAnswer) {
                        score++;
                        explanation.classList.add('show');
                    }
                } else if (questionType === 'drag-drop') {
                    const answers = dragDropAnswers[questionNum] || {};
                    const correctMatches = {
                        'situation': 'situation',
                        'obstacles': 'obstacles',
                        'aspirations': 'aspirations',
                        'results': 'results'
                    };
                    
                    let correctCount = 0;
                    for (let key in correctMatches) {
                        if (answers[key] === correctMatches[key]) {
                            correctCount++;
                        }
                    }
                    
                    if (correctCount === Object.keys(correctMatches).length) {
                        score++;
                        explanation.classList.add('show');
                    }
                } else if (questionType === 'short-answer') {
                    const keywords = question.querySelector('input').dataset.keywords.split(',');
                    const userAnswer = userAnswers[questionNum] || '';
                    
                    const hasKeywords = keywords.filter(keyword => 
                        userAnswer.includes(keyword.trim())
                    ).length >= 2; // Need at least 2 keywords for short answer questions
                    
                    if (hasKeywords && userAnswer.length > 8) {
                        score++;
                    }
                    explanation.classList.add('show');
                }
            });
            
            const percentage = Math.round((score / totalQuestions) * 100);
            const resultsDiv = document.getElementById('results');
            
            if (percentage >= 80) {
                resultsDiv.className = 'results pass';
                resultsDiv.innerHTML = `
                    <h2>Outstanding Work! 🎉</h2>
                    <p>You scored ${score}/${totalQuestions} (${percentage}%)</p>
                    <p>You have mastered stakeholder interviewing techniques and are ready to move on to AS-IS process mapping and bottleneck analysis.</p>
                `;
            } else {
                resultsDiv.className = 'results fail';
                resultsDiv.innerHTML = `
                    <h2>Keep Practicing 📚</h2>
                    <p>You scored ${score}/${totalQuestions} (${percentage}%)</p>
                    <p>You need 80% or higher to pass. Please review the SOAR framework, questioning techniques, and empathy mapping concepts.</p>
                `;
            }
            
            resultsDiv.style.display = 'block';
            resultsDiv.scrollIntoView({ behavior: 'smooth' });
        }

        function resetQuiz() {
            userAnswers = {};
            dragDropAnswers = {};
            
            document.querySelectorAll('.option').forEach(option => {
                option.classList.remove('selected', 'correct', 'incorrect');
            });
            
            document.querySelectorAll('.explanation').forEach(exp => {
                exp.classList.remove('show');
            });
            
            document.querySelectorAll('input[type="text"]').forEach(input => {
                input.value = '';
            });
            
            // Reset drag and drop items to original positions
            const dragItems = document.querySelector('.drag-items');
            if (dragItems) {
                document.querySelectorAll('.drag-item').forEach(item => {
                    dragItems.appendChild(item);
                });
            }
            
            document.getElementById('results').style.display = 'none';
        }
    </script>
</body>
</html>